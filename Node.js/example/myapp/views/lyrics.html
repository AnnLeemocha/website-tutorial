<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyLyrics | 歌詞頁面</title>
    <link rel="shortcut icon" href="/A.png" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
    <link rel="stylesheet" href="/style.css" />
    <link rel="stylesheet" href="/lyrics.css" />
</head>

<body>
    <header>
        <nav>
            <div class="logo">
                <a href="/">
                    <img src="/A.png" alt="MyLyrics"> MyLyrics
                </a>
            </div>
            <div class="menu">
                <a href="/manage">歌單管理</a>
                <a href="/about">關於</a>
            </div>
        </nav>
        <div class="backhome" class="p-4">
            <a href="/">&lt; 回首頁</a>
        </div>
    </header>

    <main class="container">
        <div>
            <div class="header">
                <h1 id="title"></h1>
                <h2 id="artist"></h2>
                <img id="image" src="" alt="cover" class="image">
            </div>

            <!-- <div class="bg-white p-6 rounded shadow">
                <h3 class="text-xl font-semibold mb-4">歌詞</h3>
                <pre id="song-lyrics" class="whitespace-pre-wrap text-gray-800">載入中...</pre>
            </div> -->
            <div class="lyrics-box">
                <h3 class="lyrics-title">歌詞</h3>
                <div id="lyrics" class="lyrics-text">載入中...</div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div>&copy; 2025 MyLyrics. 版權所有.</div>
            <div>
                <a href="/">首頁</a> |
                <a href="/about">關於我們</a>
            </div>
        </div>
    </footer>

    <script>
        // 取得 URL 中的 id
        const params = new URLSearchParams(window.location.search);
        const songId = params.get('id');

        fetch(`/api/songs/${songId}`)
            .then(res => {
                if (!res.ok) throw new Error('找不到歌曲');
                return res.json();
            })
            .then(song => {
                document.getElementById('title').textContent = song.title;
                document.getElementById('artist').textContent = `演唱：${song.artist}`;
                document.getElementById('image').src = song.image;
                document.getElementById('image').alt = song.title;
                document.getElementById('lyrics').textContent = song.lyrics;
            })
            .catch(err => {
                document.querySelector('pre').textContent = '載入失敗：' + err.message;
            });
    </script>

</body>

</html>